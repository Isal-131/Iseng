<!DOCTYPE html>
<html lang="in">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, interactive-widget=overlays-content">
    
    <title>Pupuk Sumber Tani</title>
    <script src="https://cdn.jsdelivr.net/npm/brython@3.12.0/brython.min.js"></script>
    <link rel="stylesheet" href="baru.css">
</head>
<body onload="brython()">
    <div id="dv1">
        <h2>Masukan jumlah pupuk</h2>
        <div>
            <label>Jumlah UREA :</label>
            <input placeholder=" Contoh 100" type="number" id="ur" value="">
        </div>
        <div>
            <label>Jumlah NPK :</label>
            <input placeholder=" Contoh 100" type="number" id="phn" value="">
        </div>
        
        <button id="setBtn">SET JUMLAH</button>
    </div>
    <div id="dv2">
        <div>
            <label>pupuk UREA yang keluar</label>
            <input type="number" name="" id="k1">
        </div>
        <div>
            <label>pupuk NPK yang keluar</label>
            <input type="number" name="" id="k2">
        </div>
        
        
        <button id="btn">KURANGI</button>
    </div>
    
    <div id="dv3">
        <h3>hasil</h3>
        <p>UREA : <span id="p1"></span></p>
        <p>NPK : <span id="p2"></span></p>
        <p id="selesai"></p>
        
        <h3>riwayat pengurangan:</h3>
        <pre id="history" style="background:#eee; padding:10px; border-radius:8px; white-space:pre-wrap;"></pre>
    </div>
    <script type="text/python">
        from browser import document
        
        pupuk_urea = 0
        pupuk_phonska = 0
        
        def set_angka(event):
            global pupuk_urea, pupuk_phonska
            try:
                pupuk_urea = int(document["ur"].value)
            except:
                pupuk_urea = 0
            try:
                pupuk_phonska = int(document["phn"].value)
            except:
                pupuk_phonska = 0
            
            document["p1"].text = str(pupuk_urea)
            document["p2"].text = str(pupuk_phonska)
            document["history"].text = ""
            document["selesai"].text = ""
            
            
            
        def kurangi(event):
            global pupuk_urea, pupuk_phonska
            try:
                k1 = int(document["k1"].value)
            except:
                k1 = 0
            try:
                k2 = int(document["k2"].value)
            except:
                k2 = 0
                
            pupuk_urea -= k1
            pupuk_phonska-= k2
                
            history = document["history"]
            history.text += f"kurang {k1} dan {k2} â†’ sisa: {pupuk_urea}, {pupuk_phonska}\n"
            
            document["p1"].text = str(pupuk_urea)
            document["p2"].text = str(pupuk_phonska)
            
            if pupuk_urea <= 0 and pupuk_phonska <= 0:
                document["selesai"].text = "kedua angka sudah habis!" 
                
                
        btn = document.getElementById("btn")
        setBtn = document.getElementById("setBtn")


        btn.addEventListener("click", kurangi)
        setBtn.addEventListener("click", set_angka)
    </script>
</body>
</html>


























